var visitCount=1;
<!-- 
document.querySelector("button.btn.add-to-cart").addEventListener("click", function(event){
    

    function setItemIncrement(){
    localStorage.setItem("visitCount",visitCount);
    visitCount++;

    console.log(visitCount);
    event.preventDefault();
}setItemIncrement();}); -->

<script>
  (function () {
    const addToCartBtns = document.querySelectorAll("button.btn.add-to-cart");
    console.log(addToCartBtns);

    addToCartBtns.forEach((item, index) => {
      item.addEventListener("click", function () {
        let key = "addToCart" + index
        //check whether that button exist in local storage
        if (localStorage.getItem(key) !== null) {
          //get value from storage
          let clickedBtnCount = parseInt(localStorage.getItem(key));

          //store the incremented value
          let incrementedCount = clickedBtnCount+1
          localStorage.setItem(key, incrementedCount)

          console.log('clickedBtnCount'+index, typeof incrementedCount)
        }else{
            //first time this will run
            localStorage.setItem(key, 1)
        }

        console.log(item, "clicked");
      });
    });
  })();
</script>
